<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Diamond Color Chart (D–Z) — Interactive</title>
  <style>
    :root{
      --bg:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --card:#f8fafc;
      --chip:#111827;
      --chipInk:#ffffff;
      --accent:#2563eb;
      --soft:#f3f4f6;
      --radius:16px;
      --shadow:0 1px 0 rgba(17,24,39,.04);
      --max: 980px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      background:var(--bg);
      color:var(--ink);
      line-height:1.35;
    }
    header{
      border-bottom:1px solid var(--line);
      background:linear-gradient(#fff, #fff);
    }
    .wrap{
      width:min(var(--max), calc(100% - 32px));
      margin:0 auto;
      padding:24px 0;
    }
    h1{
      margin:0 0 6px 0;
      font-size:26px;
      letter-spacing:-.02em;
    }
    .sub{
      margin:0;
      color:var(--muted);
      font-size:14px;
    }
    .toolbar{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .pill{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:999px;
      background:#fff;
      box-shadow:var(--shadow);
    }
    .pill strong{font-size:12px; letter-spacing:.06em; text-transform:uppercase; color:var(--muted)}
    .seg{
      display:inline-flex;
      background:var(--soft);
      border-radius:999px;
      padding:3px;
      gap:3px;
    }
    .seg button{
      border:0;
      background:transparent;
      padding:7px 10px;
      border-radius:999px;
      font-weight:600;
      font-size:12px;
      color:var(--muted);
      cursor:pointer;
    }
    .seg button.active{
      background:#fff;
      color:var(--ink);
      box-shadow:0 1px 0 rgba(0,0,0,.06);
    }

    main{ padding:22px 0 34px 0; }
    .note{
      margin:0 0 18px 0;
      color:var(--muted);
      font-size:13px;
      max-width: 74ch;
    }

    .panel{
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:#fff;
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .panelHead{
      padding:14px 14px 12px 14px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(#fff, #fbfbfb);
    }
    .panelHeadRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .panelTitle{
      margin:0;
      font-size:14px;
      font-weight:700;
      letter-spacing:-.01em;
    }
    .panelControls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .switch{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px;
      border:1px solid var(--line);
      border-radius:999px;
      background:#fff;
      font-size:13px;
      color:var(--ink);
    }
    .switch input{ width:18px; height:18px; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      padding:14px;
      background:#fff;
    }
    @media (min-width: 820px){
      .grid.compareOn{
        grid-template-columns: 1fr 1fr;
      }
    }

    .block{
      border:1px solid var(--line);
      border-radius:14px;
      background:var(--card);
      padding:14px;
      box-shadow: var(--shadow);
      min-height: 220px;
    }
    .blockTop{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .tag{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .circle{
      width:38px;
      height:38px;
      border-radius:999px;
      background:var(--chip);
      color:var(--chipInk);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
    }
    .kicker{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .kicker .name{
      font-weight:800;
      font-size:16px;
      letter-spacing:-.01em;
    }
    .kicker .range{
      font-size:12px;
      color:var(--muted);
      font-family: var(--mono);
    }
    .desc{
      margin:8px 0 0 0;
      color:#374151;
      font-size:14px;
      max-width: 70ch;
    }

    .sliderWrap{
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px dashed var(--line);
    }
    .sliderRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .sliderRow label{
      font-size:13px;
      color:var(--muted);
      font-weight:600;
    }
    input[type="range"]{
      width: min(560px, 100%);
      accent-color: var(--accent);
    }
    .letters{
      margin-top:10px;
      display:flex;
      gap:6px;
      flex-wrap:wrap;
      user-select:none;
    }
    .chip{
      border:1px solid var(--line);
      background:#fff;
      color:var(--muted);
      padding:6px 8px;
      border-radius:999px;
      font-size:12px;
      font-weight:700;
    }
    .chip.active{
      background: #eef2ff;
      color: #1f2937;
      border-color:#c7d2fe;
    }

    footer{
      color:var(--muted);
      font-size:12px;
      padding:22px 0 34px 0;
      border-top:1px solid var(--line);
    }

    .warn{
      margin-top:10px;
      padding:10px 12px;
      border:1px solid #fde68a;
      background:#fffbeb;
      color:#92400e;
      border-radius:12px;
      font-size:12px;
    }
  </style>
</head>

<body>
  <header>
    <div class="wrap">
      <h1 id="title">Diamond Color Chart</h1>
      <p class="sub" id="subtitle">Referencia visual simplificada — uso educativo</p>

      <div class="toolbar">
        <div class="pill" aria-label="Language selector">
          <strong>LANG</strong>
          <div class="seg" role="tablist" aria-label="ES/EN">
            <button id="btnES" class="active" type="button" role="tab" aria-selected="true">ES</button>
            <button id="btnEN" type="button" role="tab" aria-selected="false">EN</button>
          </div>
        </div>

        <div class="pill">
          <strong id="modeLabel">MODO</strong>
          <span id="modeHint" style="font-size:12px;color:var(--muted)">D–Z + comparación</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="wrap">
      <p class="note" id="note">
        Nota: el color percibido depende de la iluminación, fluorescencia y entorno. Este módulo utiliza un modelo visual simplificado.
      </p>

      <div class="panel">
        <div class="panelHead">
          <div class="panelHeadRow">
            <p class="panelTitle" id="panelTitle">Seleccionar letra</p>

            <div class="panelControls">
              <label class="switch">
                <input id="compareToggle" type="checkbox" />
                <span id="compareText">Activar comparación</span>
              </label>
            </div>
          </div>
        </div>

        <div id="grid" class="grid">
          <!-- LEFT / PRIMARY -->
          <section class="block" aria-label="Primary selection">
            <div class="blockTop">
              <div class="tag">
                <div class="circle" id="circleA">D</div>
                <div class="kicker">
                  <div class="name" id="nameA">Colorless</div>
                  <div class="range" id="rangeA">D · Colorless (D–F)</div>
                </div>
              </div>
            </div>

            <p class="desc" id="descA"></p>

            <div class="sliderWrap">
              <div class="sliderRow">
                <label for="sliderA" id="sliderALabel">Letra</label>
                <span class="chip" id="chipA">D</span>
              </div>

              <input id="sliderA" type="range" min="0" max="22" value="0" step="1" />
              <div class="letters" id="lettersA"></div>

              <div class="warn" id="warnA"></div>
            </div>
          </section>

          <!-- RIGHT / COMPARE -->
          <section class="block" id="compareBlock" aria-label="Compare selection" style="display:none">
            <div class="blockTop">
              <div class="tag">
                <div class="circle" id="circleB">F</div>
                <div class="kicker">
                  <div class="name" id="nameB">Colorless</div>
                  <div class="range" id="rangeB">F · Colorless (D–F)</div>
                </div>
              </div>
            </div>

            <p class="desc" id="descB"></p>

            <div class="sliderWrap">
              <div class="sliderRow">
                <label for="sliderB" id="sliderBLabel">Letra (comparación)</label>
                <span class="chip" id="chipB">F</span>
              </div>

              <input id="sliderB" type="range" min="0" max="22" value="2" step="1" />
              <div class="letters" id="lettersB"></div>

              <div class="warn" id="warnB"></div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="wrap">
      <span id="footerText">LW Gems · Herramientas gemológicas interactivas</span>
    </div>
  </footer>

  <script>
    // Letters D..Z (23 values)
    const letters = Array.from({length: 23}, (_,i) => String.fromCharCode("D".charCodeAt(0) + i));

    // Group ranges (industry-standard buckets)
    function bucket(letter){
      const c = letter.charCodeAt(0);
      const d = "D".charCodeAt(0);
      const f = "F".charCodeAt(0);
      const j = "J".charCodeAt(0);
      const n = "N".charCodeAt(0);
      const r = "R".charCodeAt(0);
      const z = "Z".charCodeAt(0);

      if (c <= f) return { key:"colorless", range:"D–F" };
      if (c <= j) return { key:"nearColorless", range:"G–J" };
      if (c <= n) return { key:"faint", range:"K–N" };
      if (c <= r) return { key:"veryLight", range:"O–R" };
      if (c <= z) return { key:"light", range:"S–Z" };
      return { key:"unknown", range:"" };
    }

    // Copy (ES/EN)
    const i18n = {
      es: {
        title: "Diamond Color Chart",
        subtitle: "Referencia visual simplificada — uso educativo",
        note: "Nota: el color percibido depende de la iluminación, fluorescencia y entorno. Este módulo utiliza un modelo visual simplificado.",
        panelTitle: "Seleccionar letra",
        compareOn: "Activar comparación",
        compareOff: "Desactivar comparación",
        sliderALabel: "Letra",
        sliderBLabel: "Letra (comparación)",
        footer: "LW Gems · Herramientas gemológicas interactivas",
        modeLabel: "MODO",
        modeHint: "D–Z + comparación",
        warnPrefix: "Nota:",
        warnText: "Esta referencia es educativa y no reemplaza una evaluación gemológica profesional.",
        buckets: {
          colorless:   { name:"Incoloro", blurb:"Apariencia extremadamente blanca. El tinte es imperceptible incluso bajo observación profesional. Adecuado para la mayoría de las piezas de joyería de alta gama." },
          nearColorless:{ name:"Casi incoloro", blurb:"A simple vista suele verse blanco. En comparación directa puede percibirse un leve matiz cálido. Muy utilizado en joyería fina." },
          faint:      { name:"Tinte leve", blurb:"Tono cálido sutil, más evidente en tamaños mayores o metales claros. Equilibrio habitual entre presencia visual y valor." },
          veryLight:  { name:"Tinte visible", blurb:"Calidez evidente. Requiere criterio de diseño (metal, tamaño, estilo de engaste) para optimizar la percepción." },
          light:      { name:"Tinte marcado", blurb:"Color perceptible. Su lectura depende fuertemente del montaje, iluminación y del objetivo estético (vintage / cálido)." }
        }
      },
      en: {
        title: "Diamond Color Chart",
        subtitle: "Simplified visual reference — educational use",
        note: "Note: perceived color depends on lighting, fluorescence, and environment. This module uses a simplified visual model.",
        panelTitle: "Select a letter",
        compareOn: "Enable comparison",
        compareOff: "Disable comparison",
        sliderALabel: "Letter",
        sliderBLabel: "Letter (comparison)",
        footer: "LW Gems · Interactive gemological tools",
        modeLabel: "MODE",
        modeHint: "D–Z + comparison",
        warnPrefix: "Note:",
        warnText: "This reference is educational and does not replace a professional gemological evaluation.",
        buckets: {
          colorless:    { name:"Colorless", blurb:"Extremely white appearance. Tint is imperceptible even under professional observation. Suitable for most high-end jewelry applications." },
          nearColorless:{ name:"Near Colorless", blurb:"Typically faces up white. A slight warm tint may appear in direct comparison. Widely used in fine jewelry." },
          faint:       { name:"Faint Tint", blurb:"Subtle warmth, more noticeable in larger sizes or light metals. Common balance between appearance and value." },
          veryLight:   { name:"Very Light Tint", blurb:"Noticeable warmth. Design choices (metal, size, setting style) strongly influence perceived color." },
          light:       { name:"Light Tint", blurb:"Clearly perceptible color. Appearance depends heavily on mounting, lighting, and aesthetic intent (vintage / warm)." }
        }
      }
    };

    // State + persistence
    const LANG_KEY = "lw_lang";
    let lang = (localStorage.getItem(LANG_KEY) || "es").toLowerCase();
    if (!["es","en"].includes(lang)) lang = "es";

    const els = {
      btnES: document.getElementById("btnES"),
      btnEN: document.getElementById("btnEN"),
      title: document.getElementById("title"),
      subtitle: document.getElementById("subtitle"),
      note: document.getElementById("note"),
      panelTitle: document.getElementById("panelTitle"),
      compareToggle: document.getElementById("compareToggle"),
      compareText: document.getElementById("compareText"),
      sliderALabel: document.getElementById("sliderALabel"),
      sliderBLabel: document.getElementById("sliderBLabel"),
      footerText: document.getElementById("footerText"),
      modeLabel: document.getElementById("modeLabel"),
      modeHint: document.getElementById("modeHint"),

      grid: document.getElementById("grid"),
      compareBlock: document.getElementById("compareBlock"),

      circleA: document.getElementById("circleA"),
      nameA: document.getElementById("nameA"),
      rangeA: document.getElementById("rangeA"),
      descA: document.getElementById("descA"),
      sliderA: document.getElementById("sliderA"),
      chipA: document.getElementById("chipA"),
      lettersA: document.getElementById("lettersA"),
      warnA: document.getElementById("warnA"),

      circleB: document.getElementById("circleB"),
      nameB: document.getElementById("nameB"),
      rangeB: document.getElementById("rangeB"),
      descB: document.getElementById("descB"),
      sliderB: document.getElementById("sliderB"),
      chipB: document.getElementById("chipB"),
      lettersB: document.getElementById("lettersB"),
      warnB: document.getElementById("warnB"),
    };

    function setLang(newLang){
      lang = newLang;
      localStorage.setItem(LANG_KEY, lang);

      els.btnES.classList.toggle("active", lang==="es");
      els.btnEN.classList.toggle("active", lang==="en");
      els.btnES.setAttribute("aria-selected", lang==="es" ? "true" : "false");
      els.btnEN.setAttribute("aria-selected", lang==="en" ? "true" : "false");
      document.documentElement.lang = lang;

      const t = i18n[lang];
      els.title.textContent = t.title;
      els.subtitle.textContent = t.subtitle;
      els.note.textContent = t.note;
      els.panelTitle.textContent = t.panelTitle;
      els.compareText.textContent = els.compareToggle.checked ? t.compareOff : t.compareOn;
      els.sliderALabel.textContent = t.sliderALabel;
      els.sliderBLabel.textContent = t.sliderBLabel;
      els.footerText.textContent = t.footer;
      els.modeLabel.textContent = t.modeLabel;
      els.modeHint.textContent = t.modeHint;

      // Re-render cards
      renderCard("A");
      renderCard("B");
    }

    function formatRangeLine(letter){
      const b = bucket(letter);
      const bucketName = i18n[lang].buckets[b.key]?.name || "";
      return `${letter} · ${bucketName} (${b.range})`;
    }

    function getDesc(letter){
      const b = bucket(letter);
      return i18n[lang].buckets[b.key]?.blurb || "";
    }

    function renderLettersRow(container, activeLetter){
      container.innerHTML = "";
      letters.forEach(L=>{
        const s = document.createElement("span");
        s.className = "chip" + (L===activeLetter ? " active" : "");
        s.textContent = L;
        container.appendChild(s);
      });
    }

    function renderCard(which){
      const slider = (which==="A") ? els.sliderA : els.sliderB;
      const idx = parseInt(slider.value, 10);
      const letter = letters[idx];

      const circle = (which==="A") ? els.circleA : els.circleB;
      const name = (which==="A") ? els.nameA : els.nameB;
      const range = (which==="A") ? els.rangeA : els.rangeB;
      const desc = (which==="A") ? els.descA : els.descB;
      const chip = (which==="A") ? els.chipA : els.chipB;
      const lettersRow = (which==="A") ? els.lettersA : els.lettersB;
      const warn = (which==="A") ? els.warnA : els.warnB;

      const b = bucket(letter);
      const bucketName = i18n[lang].buckets[b.key]?.name || "";

      circle.textContent = letter;
      chip.textContent = letter;

      name.textContent = bucketName;
      range.textContent = formatRangeLine(letter);
      desc.textContent = getDesc(letter);

      renderLettersRow(lettersRow, letter);

      warn.textContent = `${i18n[lang].warnPrefix} ${i18n[lang].warnText}`;
    }

    // Compare toggle
    function setCompare(on){
      els.compareBlock.style.display = on ? "block" : "none";
      els.grid.classList.toggle("compareOn", on);
      els.compareText.textContent = on ? i18n[lang].compareOff : i18n[lang].compareOn;
    }

    // Events
    els.btnES.addEventListener("click", ()=>setLang("es"));
    els.btnEN.addEventListener("click", ()=>setLang("en"));

    els.sliderA.addEventListener("input", ()=>renderCard("A"));
    els.sliderB.addEventListener("input", ()=>renderCard("B"));

    els.compareToggle.addEventListener("change", (e)=>{
      setCompare(e.target.checked);
    });

    // Init
    setCompare(false);
    setLang(lang);
    // Default starting positions
    els.sliderA.value = 0; // D
    els.sliderB.value = 2; // F
    renderCard("A");
    renderCard("B");
  </script>
</body>
</html>
